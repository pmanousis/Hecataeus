CREATE TABLE MTR_CLIENT_DIM
(
  CLIENT_SK         NUMBER(5)                   NOT NULL,
  CLIENT_CODE       VARCHAR2(20 BYTE)           NOT NULL,
  CLIENT_DESCR      VARCHAR2(100 BYTE),
  CLIENTTYPE_CODE   VARCHAR2(20 BYTE)           NOT NULL,
  CLIENTTYPE_DESCR  VARCHAR2(100 BYTE)
)
TABLESPACE MTR_DIMS_TBL
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          160K
            NEXT             160K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOLOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

COMMENT ON TABLE MTR_CLIENT_DIM IS 'Προσδιορίζει τους πελάτες σε χονδρικής και λιανικής, για τους πελάτες χονδρικής σε διασυνδεδεμένους και μη και για δε τους πελάτες λιανικής στις ακόλουθες ομάδες:Υπηρεσιακά (κυκλώματα που χρησιμοποιούνται από τον ΟΤΕ), Υπόλοιπη Λιανική, Υποδομή.';

COMMENT ON COLUMN MTR_CLIENT_DIM.CLIENT_SK IS 'Τιμή από STAGE_CLIENT_STAGE_SEQ sequence';

COMMENT ON COLUMN MTR_CLIENT_DIM.CLIENT_CODE IS 'Κωδικός';

COMMENT ON COLUMN MTR_CLIENT_DIM.CLIENT_DESCR IS 'Περιγραφή';

COMMENT ON COLUMN MTR_CLIENT_DIM.CLIENTTYPE_CODE IS 'Ομαδοποίηση σε χονδρική και λιανική. Join των πινάκων ODS_CLIENT, ODS_CLIENTTYPE';

COMMENT ON COLUMN MTR_CLIENT_DIM.CLIENTTYPE_DESCR IS 'Ομαδοποίηση περιγραφή σε χονδρική και λιανική. Join των πινάκων ODS_CLIENT, ODS_CLIENTTYPE';


CREATE UNIQUE INDEX MTR_CLIENT_DIM_CODE_UIDX ON MTR_CLIENT_DIM
(CLIENT_CODE)
NOLOGGING
TABLESPACE INDEXES
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          160K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE UNIQUE INDEX MTR_CLIENT_DIM_PIDX ON MTR_CLIENT_DIM
(CLIENT_SK)
NOLOGGING
TABLESPACE INDEXES
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          160K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE PUBLIC SYNONYM MTR_CLIENT_DIM FOR MTR_CLIENT_DIM;


ALTER TABLE MTR_CLIENT_DIM ADD (
  CONSTRAINT MTR_CLIENT_DIM_PK
 PRIMARY KEY
 (CLIENT_SK));

ALTER TABLE MTR_CLIENT_DIM ADD (
  CONSTRAINT MTR_CLIENT_DIM_CODE_UK
 UNIQUE (CLIENT_CODE));


GRANT SELECT ON  MTR_CLIENT_DIM TO DISCO_ADMIN WITH GRANT OPTION;

GRANT SELECT ON  MTR_CLIENT_DIM TO DISCO_MIS_USERS_ROL;

GRANT ALTER, DELETE, INDEX, INSERT, REFERENCES, SELECT, UPDATE, ON COMMIT REFRESH, QUERY REWRITE, DEBUG, FLASHBACK ON  MTR_CLIENT_DIM TO DWSRC;

GRANT ALTER, DELETE, INDEX, INSERT, REFERENCES, SELECT, UPDATE, ON COMMIT REFRESH, QUERY REWRITE, DEBUG, FLASHBACK ON  MTR_CLIENT_DIM TO MIS WITH GRANT OPTION;